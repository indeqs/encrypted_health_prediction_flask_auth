/* Global Styles */
body {
    background-color: #f4f7f6;
    /* Light background for the whole page */
    margin: 0;
    font-family: 'Inter', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    color: #333;
}

/* Dashboard Layout */
.dashboard-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
}

.dashboard-header {
    margin-bottom: 2rem;
    position: relative;
    padding-bottom: 1rem;
    border-bottom: 1px solid #e0e0e0;
}

.dashboard-header h1 {
    color: #2c3e50;
    font-size: 2.2rem;
    /* Slightly larger heading */
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.dashboard-header .subtitle {
    color: #7f8c8d;
    font-size: 1rem;
    margin-bottom: 1rem;
}

.user-info {
    position: absolute;
    top: 5px;
    /* Adjust top position */
    right: 0;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.welcome-text {
    font-weight: 500;
    color: #34495e;
}

.logout-btn {
    background-color: #e74c3c;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 0.5rem 1rem;
    text-decoration: none;
    font-size: 0.9rem;
    transition: background-color 0.3s ease;
    cursor: pointer;
}

.logout-btn:hover {
    background-color: #c0392b;
}

/* Dashboard Stats */
.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2.5rem;
    /* Increased margin */
}

.stat-card {
    background-color: white;
    border-radius: 8px;
    padding: 1.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
    /* Softer shadow */
    display: flex;
    align-items: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-4px);
    /* Slightly more lift */
    box-shadow: 0 7px 14px rgba(0, 0, 0, 0.1);
}

.stat-icon {
    border-radius: 50%;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 1.2rem;
    /* Increased spacing */
    flex-shrink: 0;
    /* Prevent icon shrinking */
}

/* Specific Stat Card Icon Colors */
.stat-card:nth-child(1) .stat-icon {
    background: #e3f2fd;
    color: #2196f3;
}

/* Total Patients */
.stat-card:nth-child(2) .stat-icon {
    background: #e8f5e9;
    color: #4caf50;
}

/* New Inquiries */
.stat-card:nth-child(3) .stat-icon {
    background: #fff8e1;
    color: #ff9800;
}

/* Predictions Made (changed color) */
.stat-card:nth-child(4) .stat-icon {
    background: #f3e5f5;
    color: #9c27b0;
}

/* This Week */

.stat-details h3 {
    font-size: 0.9rem;
    color: #7f8c8d;
    margin: 0 0 0.3rem 0;
    /* Adjusted margin */
    font-weight: 500;
    /* Medium weight */
    text-transform: uppercase;
    /* Uppercase title */
    letter-spacing: 0.5px;
}

.stat-number {
    font-size: 1.9rem;
    /* Slightly larger number */
    font-weight: 600;
    color: #2c3e50;
    margin: 0;
    line-height: 1.2;
}

/* Dashboard Content Area */
.dashboard-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

/* General Dashboard Card Style */
.dashboard-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    /* Consistent bottom margin */
    overflow: hidden;
    /* Prevent content overflow issues */
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    /* Add padding below header */
    border-bottom: 1px solid #ecf0f1;
    /* Separator line */
}

.card-header h2 {
    font-size: 1.2rem;
    /* Slightly smaller header */
    color: #34495e;
    /* Darker color */
    font-weight: 600;
    margin: 0;
}

.view-all {
    color: #3498db;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    transition: color 0.3s ease;
}

.view-all:hover {
    color: #2980b9;
    text-decoration: underline;
}

/* Table Styles */
.table-responsive {
    overflow-x: auto;
    width: 100%;
}

.data-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
    /* Base font size for table */
}

.data-table th,
.data-table td {
    padding: 0.85rem 1rem;
    /* Increased padding */
    text-align: left;
    vertical-align: middle;
    /* Align content vertically */
}

.data-table th {
    font-weight: 600;
    /* Bolder headers */
    color: #555;
    /* Darker grey */
    border-bottom: 2px solid #e0e0e0;
    /* Stronger bottom border */
    white-space: nowrap;
    /* Prevent header text wrapping */
}

.data-table td {
    border-bottom: 1px solid #ecf0f1;
    color: #444;
    /* Slightly darker text */
}

.data-table tr:last-child td {
    border-bottom: none;
}

.data-table tbody tr {
    transition: background-color 0.2s ease;
}

.data-table tbody tr:hover {
    background-color: #f8f9fa;
}

/* Status Badges */
.status-badge {
    display: inline-block;
    padding: 0.3rem 0.6rem;
    /* Slightly larger padding */
    border-radius: 12px;
    /* Pill shape */
    font-size: 0.75rem;
    font-weight: 600;
    /* Bold text */
    text-transform: capitalize;
    /* Capitalize status text */
    line-height: 1;
}

/* Badge Colors (using hex for consistency) */
.status-badge.success,
.status-badge.low {
    background-color: #e8f5e9;
    color: #388e3c;
}

/* Green */
.status-badge.pending,
.status-badge.normal {
    background-color: #fff3e0;
    color: #f57c00;
}

/* Orange */
.status-badge.warning,
.status-badge.urgent {
    background-color: #ffebee;
    color: #d32f2f;
}

/* Red */

/* Confidence Bar */
.confidence-bar {
    position: relative;
    height: 10px;
    /* Slightly thicker bar */
    width: 100px;
    /* Fixed width or adjust as needed */
    max-width: 100%;
    background-color: #ecf0f1;
    border-radius: 5px;
    overflow: hidden;
    display: inline-block;
    /* Align with text */
    vertical-align: middle;
    margin-right: 0.5rem;
    /* Space before percentage text */
}

.confidence-fill {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background-color: #2ecc71;
    /* Success green */
    border-radius: 5px;
    transition: width 0.5s ease-in-out;
    /* Smooth transition */
}

/* Specific color based on confidence? (Optional) */
.confidence-fill[style*="width: 0%"],
.confidence-fill[style*="width: 1"],
.confidence-fill[style*="width: 2"],
.confidence-fill[style*="width: 3"] {
    background-color: #e74c3c;
}

/* Low confidence: Red */
.confidence-fill[style*="width: 4"],
.confidence-fill[style*="width: 5"],
.confidence-fill[style*="width: 6"] {
    background-color: #f39c12;
}

/* Medium confidence: Orange */

.confidence-bar+span {
    /* Style the percentage text */
    font-size: 0.85rem;
    color: #555;
    font-weight: 500;
    vertical-align: middle;
}

/* Action Buttons in Tables/Cards */
.action-buttons {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.btn-view,
.btn-edit,
.btn-add {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    /* Circular buttons */
    color: white;
    border: none;
    transition: background-color 0.3s ease, transform 0.2s ease;
    cursor: pointer;
    text-decoration: none;
    /* Ensure links are not underlined */
}

.btn-view:hover,
.btn-edit:hover,
.btn-add:hover {
    transform: scale(1.1);
    /* Slight zoom on hover */
}

.btn-view {
    background-color: #3498db;
}

/* Blue */
.btn-view:hover {
    background-color: #2980b9;
}

.btn-edit {
    background-color: #f39c12;
}

/* Orange */
.btn-edit:hover {
    background-color: #e67e22;
}

.btn-add {
    background-color: #2ecc71;
}

/* Green */
.btn-add:hover {
    background-color: #27ae60;
}

/* Dashboard Row Layout */
.dashboard-flex-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    /* Responsive columns */
    gap: 1.5rem;
    margin-bottom: 1.5rem;
    /* Space below the row */
    align-items: start;
    /* Align items to the top */
}

/* Quick Actions Card */
.quick-actions .card-header {
    border-bottom: none;
    padding-bottom: 0;
}

/* Remove border for quick actions */

.action-buttons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    /* Responsive grid for buttons */
    gap: 1rem;
    margin-top: 0.5rem;
    /* Reduced top margin */
}

.action-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1rem;
    /* Adjusted padding */
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    /* Subtle border */
    border-radius: 8px;
    text-decoration: none;
    color: #34495e;
    transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
}

.action-button:hover {
    background-color: #e9ecef;
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    color: #2c3e50;
}

.action-icon {
    margin-bottom: 0.75rem;
    color: #555;
    /* Default icon color */
    /* Icons inherit color from parent hover */
}

.action-button:hover .action-icon {
    color: #2c3e50;
    /* Darker icon on hover */
}

.action-button span {
    font-size: 0.85rem;
    font-weight: 500;
    line-height: 1.3;
}

/* Activity Graph Card */
.activity-graph .card-header {
    border-bottom: none;
    padding-bottom: 0;
}

.graph-container {
    position: relative;
    height: 300px;
    /* Fixed height for the graph */
    width: 100%;
    margin-top: 1rem;
    /* Space above the graph */
}

#activityChart {
    display: block;
    width: 100% !important;
    /* Override Chart.js inline styles if necessary */
    height: 100% !important;
}

/* Recent Patients Section */
.recent-patients .card-header {
    border-bottom: 1px solid #ecf0f1;
}

/* Add border back for this section */

.patient-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    /* Responsive patient cards */
    gap: 1.5rem;
    margin-top: 1rem;
}

.patient-card {
    background-color: #fff;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: box-shadow 0.3s ease;
}

.patient-card:hover {
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
}

.patient-avatar {
    flex-shrink: 0;
}

.avatar-placeholder {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: #3498db;
    /* Default avatar color */
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.4rem;
    font-weight: 600;
}

/* Add more colors maybe based on first letter? (Advanced) */

.patient-info {
    flex-grow: 1;
    min-width: 0;
    /* Prevent overflow */
}

.patient-info h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #2c3e50;
    margin: 0 0 0.25rem 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.patient-id {
    font-size: 0.8rem;
    color: #7f8c8d;
    margin-bottom: 0.5rem;
}

.patient-details {
    font-size: 0.85rem;
    color: #555;
    display: flex;
    align-items: center;
    gap: 0.4rem;
    /* Space between icon and text */
    margin-bottom: 0.3rem;
}

.patient-details svg {
    width: 14px;
    /* Smaller icons */
    height: 14px;
    color: #95a5a6;
    /* Icon color */
    flex-shrink: 0;
}

.patient-actions {
    display: flex;
    flex-direction: column;
    /* Stack buttons vertically */
    gap: 0.5rem;
    align-items: center;
}

/* Patient action buttons might reuse .btn-view, .btn-add styles */

/* Utility Classes */
.text-center {
    text-align: center;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .dashboard-header h1 {
        font-size: 1.8rem;
    }

    .user-info {
        position: static;
        /* Stack user info below header on small screens */
        margin-top: 1rem;
        justify-content: flex-start;
    }

    .dashboard-stats {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }

    .stat-card {
        padding: 1rem;
    }

    .stat-number {
        font-size: 1.6rem;
    }

    .dashboard-flex-row {
        grid-template-columns: 1fr;
        /* Stack quick actions and graph */
    }

    .patient-cards {
        grid-template-columns: 1fr;
        /* Stack patient cards */
    }

    .patient-card {
        flex-direction: column;
        /* Stack avatar, info, actions vertically */
        align-items: flex-start;
        /* Align left */
        text-align: left;
    }

    .patient-actions {
        flex-direction: row;
        /* Row layout for actions on small screens */
        width: 100%;
        margin-top: 0.75rem;
        justify-content: flex-end;
        /* Align buttons right */
    }
}

@media (max-width: 480px) {
    .dashboard-container {
        padding: 1rem;
    }

    .dashboard-header h1 {
        font-size: 1.6rem;
    }

    .stat-card {
        flex-direction: column;
        /* Stack icon and details */
        align-items: flex-start;
    }

    .stat-icon {
        margin-right: 0;
        margin-bottom: 0.75rem;
    }

    .action-buttons-grid {
        grid-template-columns: 1fr 1fr;
        /* Max 2 buttons per row */
    }

    .confidence-bar {
        width: 80px;
    }
}

/* Inquiry Details Styling */
.inquiry-details {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 0;
    overflow: hidden;
}

.breadcrumb {
    margin-bottom: 20px;
    font-size: 14px;
}

.breadcrumb a {
    color: #4a6bff;
    text-decoration: none;
}

.breadcrumb a:hover {
    text-decoration: underline;
}

.inquiry-meta {
    display: flex;
    gap: 10px;
    align-items: center;
}

.inquiry-info {
    padding: 20px;
    border-bottom: 1px solid #eaeaea;
}

.info-group {
    display: flex;
    margin-bottom: 10px;
}

.info-group label {
    width: 120px;
    font-weight: 600;
    color: #555;
}

.patient-link {
    color: #4a6bff;
    text-decoration: none;
}

.patient-link:hover {
    text-decoration: underline;
}

.message-section {
    padding: 20px;
    border-bottom: 1px solid #eaeaea;
}

.message-section h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #333;
    font-size: 18px;
}

.message-content {
    background: #f9f9f9;
    padding: 15px;
    border-radius: 6px;
    line-height: 1.6;
}

.inquiry-actions {
    padding: 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.btn-primary,
.btn-secondary,
.btn-outline {
    padding: 8px 16px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    border-radius: 4px;
    font-weight: 500;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.2s ease;
}

.btn-primary {
    background: #4a6bff;
    color: white;
    border: none;
}

.btn-primary:hover {
    background: #3a5bff;
}

.btn-secondary {
    background: #28a745;
    color: white;
    border: none;
}

.btn-secondary:hover {
    background: #218838;
}

.btn-outline {
    background: transparent;
    color: #555;
    border: 1px solid #ccc;
}

.btn-outline:hover {
    background: #f1f1f1;
}

.inline-form {
    display: inline;
}

/* Status badges */
.status-badge {
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
}

.status-badge.urgent {
    background-color: #ff4d4f;
    color: white;
}

.status-badge.normal {
    background-color: #faad14;
    color: white;
}

.status-badge.low {
    background-color: #52c41a;
    color: white;
}

.status-badge.pending {
    background-color: #faad14;
    color: white;
}

.status-badge.success {
    background-color: #52c41a;
    color: white;
}

.status-badge.warning {
    background-color: #ff7875;
    color: white;
}

.status-badge.in-progress {
    background-color: #1890ff;
    color: white;
}

/* === Message Thread Styling (Dashboard) === */

.message-thread-card {
    padding: 0;
    /* Remove padding from outer card, apply to body */
}

.message-thread-card .card-header {
    /* Keep existing dashboard card header styles */
    border-bottom: 1px solid #ecf0f1;
}

.message-thread-body {
    padding: 1.5rem;
    /* Add padding to the scrollable body */
    max-height: 450px;
    /* Adjust max height if needed */
    overflow-y: auto;
    background-color: #f9f9f9;
    /* Light background for the thread area */
}

.message {
    display: flex;
    margin-bottom: 1.25rem;
    /* Spacing between messages */
    width: 100%;
}

/* Align user's messages (medic/admin viewing) to the right */
.message-user {
    justify-content: flex-end;
}

/* Align others' messages (patient) to the left */
.message-others {
    justify-content: flex-start;
}

.message-content {
    max-width: 75%;
    /* Max width for the bubble */
    padding: 0.8rem 1.2rem;
    border-radius: 12px;
    position: relative;
    line-height: 1.5;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    /* Subtle shadow for bubbles */
    word-wrap: break-word;
    /* Ensure long words break */
}

/* Styling for patient messages (viewed by medic/admin) */
.message-others .message-content {
    background-color: #ffffff;
    /* White background */
    border: 1px solid #e9ecef;
    color: #343a40;
    border-bottom-left-radius: 0;
    /* Tail effect */
}

/* Styling for medic/admin messages (viewed by medic/admin) */
.message-user .message-content {
    background-color: #e3f2fd;
    /* Light blue background (consistent with patient view) */
    color: #1e88e5;
    /* Blue text */
    border: 1px solid #bbdefb;
    border-bottom-right-radius: 0;
    /* Tail effect */
}

.message-sender-info {
    font-size: 0.9rem;
    /* Slightly larger sender info */
    font-weight: 600;
    color: #555;
    /* Darker grey for sender name */
    margin-bottom: 0.3rem;
    /* Space below sender */
}

.message-sender-info i {
    margin-right: 0.4rem;
    /* Space after icon */
    color: #7f8c8d;
    /* Icon color */
}

/* Specific color for medic/admin icons in their own messages */
.message-user .message-sender-info i {
    color: #1e88e5;
}


.message-body {
    font-size: 0.95rem;
    /* Base message text size */
    margin: 0;
    color: #333;
    /* Default text color */
}

.message-user .message-body {
    color: #1976d2;
    /* Darker blue text for own messages */
}


.message-meta {
    font-size: 0.75rem;
    color: #888;
    /* Lighter grey for timestamp */
    text-align: right;
    /* Align timestamp to the right */
    margin-top: 0.4rem;
    /* Space above timestamp */
}

.message-others .message-meta {
    text-align: left;
    /* Align patient timestamp left if preferred */
}

/* === Reply Form Styling (Dashboard) === */
.reply-form-card {
    padding: 0;
    /* Remove padding from outer card */
}

.reply-form-card .card-header {
    /* Keep existing dashboard card header styles */
    border-bottom: 1px solid #ecf0f1;
}

.reply-form-card .card-body {
    padding: 1.5rem;
    /* Add padding back to body */
}

/* Use Bootstrap's form-control for textarea styling */
.reply-form-card textarea.form-control {
    border-radius: 6px;
    min-height: 100px;
    font-size: 0.95rem;
}

.reply-form-card textarea.form-control:focus {
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}

/* Use dashboard's btn-primary for the submit button */
.reply-form-card .btn-primary {
    /* Styles are already defined in dashboard_styles.css */
    padding: 0.6rem 1.2rem;
    font-size: 0.95rem;
}

.reply-form-card .btn-primary i {
    margin-right: 0.4rem;
}


/* Ensure dashboard styles for cards are applied */
.dashboard-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.08);
    margin-bottom: 1.5rem;
    overflow: hidden;
}

.dashboard-card .card-header {
    padding: 1rem 1.5rem;
    /* Consistent padding */
    background-color: #f8f9fa;
    /* Light header background */
}

.dashboard-card .card-header h2 {
    font-size: 1.15rem;
    /* Consistent header size */
    color: #34495e;
    font-weight: 600;
    margin: 0;
    display: flex;
    /* Align icon and text */
    align-items: center;
}

.dashboard-card .card-header h2 i {
    margin-right: 0.75rem;
    /* Space between icon and text */
    color: #555;
    /* Icon color */
}

.dashboard-card .card-body {
    padding: 1.5rem;
    /* Consistent body padding */
}


/* Add Bootstrap form-label style if not globally defined */
.form-label {
    display: inline-block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: #495057;
}